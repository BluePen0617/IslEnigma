<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ISLENIGMA</title>
    <!-- favicon -->
    <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon">
    <!-- bootstap css -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- icon -->
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"> -->
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"> -->
    <!-- 自訂css -->
    <link rel="stylesheet" href="footer.css" />
    <link rel="stylesheet" href="navbar.css">
    <link  rel="stylesheet" href="infoFAQ.css">

</head>
<body>
    <!-- 導航列 -->
    <div id="navbarAll" class="navbarAll">
        <header>
          <!-- 主導航欄  -->
          <div class="topNav">
            <!-- 左側按鈕 -->
            <div class="headerLeft">
              <!-- 漢堡菜單按鈕  -->
              <button id="hamburgerBtn" class="hamburgerBtn">
                <span></span>
                <span></span>
                <span></span>
              </button>
              <!-- music播放控制 -->
              <div class="musicContainer">
                <button class="btn music">
                  music
                  <div id="mainMusicSwitcher" class="musicSwitcher">
                    <div class="ball"></div>
                  </div>
                </button>
              </div>
              <!-- languageDropdown -->
              <div class="languageDropdown">
                <button class="btn language">
                  Language<i class="bi bi-chevron-down"></i>
                </button>
                <div class="dropdown-content">
                  <a href="#">中文</a>
                  <a href="#">English</a>
                </div>
              </div>
            </div>
            <!-- mobile logo需要放在中間，手機板出現 -->
            <a href="#">
              <img
                class="topLogo"
                src="./public/00logo/LogoType_Light_1.png"
                alt=""
              />
            </a>
            <!-- 右側按鈕 -->
            <div class="headerRight">
              <a href="/cart" class="btnShoppingCart">
                <i class="bi bi-cart"></i>
              </a>
              <!-- 新增:使用者登入登出 -->
              <div class="userMenuContainer">
                <a href="./login" class="btn btnLogin">
                  <img
                    src="/default-avatar.png"
                    alt="User Avatar"
                    class="userAvatar"
                    style="display: none"
                  />
                  <i class="bi bi-person"></i>
                  <span class="loginText">Login</span>
                </a>
                <div class="dropdown-content">
                  <a href="/profile">會員中心</a>
                  <a href="#" class="logoutBtn">登出</a>
                </div>
              </div>
            </div>
            <!-- ------隱藏次要導覽列功能按鈕 -->
            <button id="toggleNavbar" class="toggleNavbar">
              <i class="bi bi-chevron-double-up"></i>
            </button>
          </div>
          <!-- 次導覽欄 -->
          <nav class="navbar">
            <!-- 左側，logo(三種 1920-1024,1024-850,<850) -->
            <a href="./index">
              <picture class="logo-container">
                <source
                  media="(min-width:1024px)"
                  srcset="./public/00logo/LogoType_Light_2.png"
                />
                <source
                  media="(min-width:850px)"
                  srcset="./public/00logo/LogoType_Light_1.png"
                />
                <img
                  src="./public/00logo/LOGO_Light_1.png"
                  alt="Logo"
                  class="logo"
                />
              </picture>
            </a>
            <!-- 右側按鈕 -->
            <div class="navRight">
              <!-- 連結區 -->
              <ul class="navLink">
                <li class="navItem facility">
                  <a href="#">
                    <img src="./public/00myIcon/facility.png" alt="樂園設施" />
                    <p data-text="樂園設施">樂園設施</p>
                  </a>
                </li>
                <li class="navItem ticket">
                  <a href="#">
                    <img src="./public/00myIcon/ticket-info.png" alt="訂票資訊" />
                    <p data-text="訂票資訊">訂票資訊</p>
                  </a>
                </li>
                <li class="navItem book">
                  <a href="#">
                    <img
                      src="./public/00myIcon/booking-info.png"
                      alt="訂房資訊"
                    />
                    <p data-text="訂房資訊">訂房資訊</p>
                  </a>
                </li>
                <!-- food在下拉選單隱藏 -->
                <li class="navItem food">
                  <a href="#">
                    <img
                      src="./public/00myIcon/restaurant-info.png"
                      alt="飲食購物"
                    />
                    <p data-text="飲食購物">飲食購物</p>
                  </a>
                </li>
                <li class="navItem traffic">
                  <a href="#">
                    <img
                      src="./public/00myIcon/traffic-info.png"
                      alt="交通資訊"
                    />
                    <p data-text="交通資訊">交通資訊</p>
                  </a>
                </li>
                <!-- about在下拉選單隱藏 -->
                <li class="navItem about">
                  <a href="#">
                    <img src="./public/00myIcon/about.png" alt="關於我們" />
                    <p data-text="關於我們">關於我們</p>
                  </a>
                </li>
                <!-- info在下拉選單隱藏 -->
                <li class="navItem info">
                  <a href="#">
                    <img src="./public/00myIcon/park-info.png" alt="樂園資訊" />
                    <p data-text="樂園資訊">樂園資訊</p>
                  </a>
                </li>
                <!-- 新增:menber在下拉選單出現 -->
                <li class="navItem menber">
                  <a href="#" class="memberLink">
                    <img
                      src="./public/00myIcon/menber.png"
                      alt="登入"
                      class="memberIcon"
                    />
                    <img
                      src="/default-avatar.png"
                      alt="User Avatar"
                      class="memberAvatar"
                      style="display: none"
                    />
                    <p class="memberText" data-text="會員">會員</p>
                  </a>
                  <div class="memberDropdown">
                    <a href="/profile">會員中心</a>
                    <a href="#" class="logoutBtnNav">登出</a>
                  </div>
                </li>
              </ul>
              <!-- 最右側快速訂票 -->
              <a href="/ticket">
                <img
                  src="public/00myIcon/ticket.png"
                  alt="Ticket"
                  class="ticketImg"
                />
              </a>
            </div>
          </nav>
        </header>
        <!-- 漢堡選單(點開後出現側拉選單) -->
        <div id="hamburgerMenu" class="hamburgerMenu">
          <!-- 頭部 -->
          <div class="menuHeader">
            <span id="closeBtn" class="closeBtn">&times;</span>
            <a href="./index"
              ><img
                src="./public/00logo/LogoType_Light_1.png"
                alt="Logo"
                class="menuLogo"
            /></a>
            <a href="./cart" class="cartIcon"><i class="bi bi-cart"></i></a>
          </div>
          <!-- 系統按鈕 -->
          <div class="systemButtons">
            <div class="btn musicContainer">
              <span>music</span>
              <div id="menuMusicSwitcher" class="musicSwitcher">
                <div class="ball"></div>
              </div>
            </div>
            <div class="btn languageDropdown">
              <span>Language</span>
              <div class="dropdown-content">
                <a href="#">中文</a>
                <a href="#">English</a>
              </div>
            </div>
          </div>
          <!-- 側拉導覽列 -->
          <nav class="menuItems">
            <a href="#"
              ><i class="bi bi-building"></i> 樂園設施 <span>&gt;</span></a
            >
            <a href="#"
              ><i class="bi bi-ticket-perforated"></i> 訂票資訊
              <span>&gt;</span></a
            >
            <a href="#"><i class="bi bi-house"></i> 訂房資訊 <span>&gt;</span></a>
            <a href="#"><i class="bi bi-cart3"></i> 飲食購物 <span>&gt;</span></a>
            <a href="#"
              ><i class="bi bi-car-front"></i> 交通資訊 <span>&gt;</span></a
            >
            <a href="#"
              ><i class="bi bi-info-circle"></i> 關於islEnigma
              <span>&gt;</span></a
            >
            <a href="#"
              ><i class="bi bi-patch-question"></i> 樂園資訊 <span>&gt;</span></a
            >
          </nav>
          <!-- 社交連結按鈕 -->
          <div class="menuFooter">
            <div class="socialIcons">
              <a href="#"><i class="bi bi-facebook"></i></a>
              <a href="#"><i class="bi bi-instagram"></i></a>
              <a href="#"><i class="bi bi-youtube"></i></a>
              <a href="#"><i class="bi bi-line"></i></a>
            </div>
            <div class="copyright">
              <a href="/about">©bluepen team</a>
            </div>
          </div>
          <!-- 側拉選單的右下訂票按鈕 -->
          <a href="#" class="ticketIcon">
            <i class="bi bi-ticket-perforated"></i>
          </a>
        </div>
  
        <!-- music demo-->
        <audio id="backgroundMusic" loop>
          <source
            src="./public/music/music_ EventDeparture.mp3"
            type="audio/mpeg"
          />
        </audio>
        <!-- music js-->
        <script>
          document.addEventListener("DOMContentLoaded", function () {
            let mainSwitcher = document.getElementById("mainMusicSwitcher");
            let menuSwitcher = document.getElementById("menuMusicSwitcher");
            let music = document.getElementById("backgroundMusic");
            // 控制音樂開始與停止
            function toggleMusic(switcher) {
              const isActive = switcher.classList.toggle("active");
              music[isActive ? "play" : "pause"]();
              [mainSwitcher, menuSwitcher].forEach((s) =>
                s.classList.toggle("active", isActive)
              );
            }
            // 控制側拉選單的按鈕與主頁的switch可以互相控制
            [mainSwitcher, menuSwitcher].forEach((switcher) =>
              switcher.addEventListener("click", (e) => {
                e.stopPropagation();
                toggleMusic(switcher);
              })
            );
            // 設置起始音量為 50%
            music.volume = 0.5;
          });
        </script>
        <!-- hamburger js-->
        <script>
          document.addEventListener("DOMContentLoaded", function () {
            let hamburgerBtn = document.getElementById("hamburgerBtn");
            let hamburgerMenu = document.getElementById("hamburgerMenu");
            let closeBtn = document.getElementById("closeBtn");
            //點擊後打開側邊選單(增加.open)
            hamburgerBtn.addEventListener("click", function () {
              hamburgerMenu.classList.add("open");
            });
            //點擊後關閉側邊選單(移除.open)
            closeBtn.addEventListener("click", function () {
              hamburgerMenu.classList.remove("open");
            });
          });
        </script>
        <!-- 控制中間按鈕(是否收起次要導覽列) js -->
        <script>
          document.addEventListener("DOMContentLoaded", function () {
            let toggleBtn = document.getElementById("toggleNavbar");
            let navbar = document.querySelector(".navbar");
            // 點擊後設置為hidden
            toggleBtn.addEventListener("click", function () {
              navbar.classList.toggle("hidden");
              this.classList.toggle("active");
              // 保存用戶的選擇
              if (navbar.classList.contains("hidden")) {
                localStorage.setItem("navbarHidden", "true");
              } else {
                localStorage.setItem("navbarHidden", "false");
              }
            });
            // 檢查用戶之前的選擇
            if (localStorage.getItem("navbarHidden") === "true") {
              navbar.classList.add("hidden");
              toggleBtn.classList.add("active");
            }
          });
        </script>
  
        <!-- 控制登入登出 -->
        <script>
          function updateLoginButton(isLoggedIn, username = "", avatarUrl = "") {
            const loginButton = document.querySelector(".btnLogin");
            const loginIcon = loginButton.querySelector("i");
            const loginText = loginButton.querySelector(".loginText");
            const userAvatar = loginButton.querySelector(".userAvatar");
            const userMenuContainer =
              document.querySelector(".userMenuContainer");
  
            // 處理會員圖標
            const memberItem = document.querySelector(".navItem.menber");
            const memberIcon = memberItem.querySelector(".memberIcon");
            const memberAvatar = memberItem.querySelector(".memberAvatar");
            const memberText = memberItem.querySelector(".memberText");
            const memberDropdown = memberItem.querySelector(".memberDropdown");
  
            if (isLoggedIn) {
              // 頂部登入按鈕邏輯
              loginIcon.style.display = "none";
              userAvatar.style.display = "inline-block";
              loginText.textContent = username;
              if (avatarUrl) {
                userAvatar.src = avatarUrl;
              }
              userMenuContainer.classList.add("loggedIn");
              loginButton.href = "#";
              loginButton.onclick = function (e) {
                e.preventDefault();
              };
  
              // 更新會員圖標
              memberItem.classList.add("loggedIn");
              memberIcon.style.display = "none";
              memberAvatar.style.display = "inline-block";
              if (avatarUrl) {
                memberAvatar.src = avatarUrl;
              }
              memberText.textContent = username;
              memberText.setAttribute("data-text", username);
            } else {
              // 頂部登出按鈕邏輯
              loginIcon.style.display = "inline-block";
              userAvatar.style.display = "none";
              loginText.textContent = "Login";
              userMenuContainer.classList.remove("loggedIn");
              loginButton.href = "./login";
              loginButton.onclick = null;
  
              // 恢復會員圖標為默認狀態
              memberItem.classList.remove("loggedIn");
              memberIcon.style.display = "inline-block";
              memberAvatar.style.display = "none";
              memberText.textContent = "會員";
              memberText.setAttribute("data-text", "會員");
            }
  
            // 確保下拉選單隱藏
            memberDropdown.classList.remove("show");
          }
  
          // 登出功能
          document
            .querySelectorAll(".logoutBtn, .logoutBtnNav")
            .forEach((btn) => {
              btn.addEventListener("click", function (e) {
                e.preventDefault();
                updateLoginButton(false);
              });
            });
  
          // 處理會員點擊
          const memberLink = document.querySelector(".memberLink");
          const memberDropdown = document.querySelector(".memberDropdown");
  
          memberLink.addEventListener("click", function (e) {
            e.preventDefault();
            if (this.closest(".navItem.menber").classList.contains("loggedIn")) {
              memberDropdown.classList.toggle("show");
            } else {
              window.location.href = "./login"; // 未登入時跳轉到登入頁面
            }
          });
  
          // 點擊其他地方時關閉下拉選單
          document.addEventListener("click", function (e) {
            if (!e.target.closest(".navItem.menber")) {
              memberDropdown.classList.remove("show");
            }
          });
  
          // 初始化登入狀態（示例）
          updateLoginButton(true, "張禎云", "./public/00myIcon/login (6).png");
          // updateLoginButton(false);
        </script>
      </div>

    <!--banner -->
    <div class="bannerWrapper">
        <div class="container-fluid">
            <div class="row">
                <div class="col-12">
                    <div class="bannerContent">
                        <div class="bannerLogo">
                            <img src="./public/00logo/LogoType_Light_2.png" alt="神秘樂園logo">
                        </div>
                        <div class="bannerTextGroup">
                            <span class="bannerLine"></span>
                            <p class="bannerText">最新活動</p>
                            <span class="bannerLine"></span>
                        </div>
                        <p class="bannerTagline">islEnigma Information</p>
                        <!-- 連結按鈕 -->
                        <div class="bannerMenu row">
                        <!-- 手機版 下拉選單 -->
                        <div class="customDropdown" id="mobileDropdown">
                            <div class="dropdownSelected">選擇單元 <i class="bi bi-chevron-down"></i></div>
                            <ul class="dropdownOptions">
                                <li><a href="#mysteryNews" class="dropdownOption" data-value="latestActivity">最新活動</a></li>
                                <li><a href="../info_info.html" class="dropdownOption" data-value="parkInfo">樂園須知</a></li>
                                <li><a href="#" class="dropdownOption" data-value="frequentlyAskedQuestions">常見問題</a></li>
                                <li><a href="#todayActivities" class="dropdownOption" data-value="timeTable">今日活動</a></li>
                                <li><a href="#" class="dropdownOption" data-value="parkSuggestions">遊園建議</a></li>
                            </ul>
                        </div>   
                        <!-- 大螢幕 按鈕 -->
                        <div class="bannerItemGroup">
                            <a href="#mysteryNews" class="menuItem">
                                <div class="menuNumber">01</div>
                                <div class="menuIcon"><img src="./public/00myIcon/event.png" alt="最新活動圖示"></div>
                                <p>最新活動</p>
                            </a>
                            <a href="#" class="menuItem">
                                <div class="menuNumber">02</div>
                                <div class="menuIcon"><img src="./public/00myIcon/park-info2.png" alt="樂園須知圖示"></div>
                                <p>樂園須知</p>
                            </a>
                            <a href="#" class="menuItem">
                                <div class="menuNumber">03</div>
                                <div class="menuIcon"><img src="./public/00myIcon/faq.png" alt="常見問題圖示"></div>
                                <p>常見問題</p>
                            </a>
                            <a href="#todayActivities" class="menuItem">
                                <div class="menuNumber">04</div>
                                <div class="menuIcon"><img src="./public/00myIcon/time.png" alt="時間表圖示"></div>
                                <p>時間表</p>
                            </a>
                            <a href="#" class="menuItem">
                                <div class="menuNumber">05</div>
                                <div class="menuIcon"><img src="./public/00myIcon/advice.png" alt="遊園建議圖示"></div>
                                <p>遊園建議</p>
                            </a>
                           </div>
                       </div>
                   </div>
                   <span class="line"></span>
               </div>
           </div>
        </div>
        <div class="outBall outBall1"></div>
        <div class="outBall outBall2"></div>   
        <div class="textMemo">這裡紀錄謎樣樂園的大小事。</div>
    </div>

  <!-- FAQ -->
  <div class="FAQ">
    <div class="contain">
        <header>
            <span class="FAQLine"></span>
            <h1>IslEnigma 常見問題</h1>
            <span class="FAQLine"></span>
        </header>
        <main>
            <div id="chat-messages" class="chat-container">
                <!-- 消息將在這裡動態生成 -->
            </div>
        </main>
        <footer>
            <p><a href="#">islEnigma</a> > <a href="#">樂園資訊</a> > <a href="#">常見問題</a></p>
        </footer>
    </div>
  </div>
  <!-- FAQ modal-->
  <div id="feedbackModal" class="modal">
    <div class="modal-content">
      <p id="modalMessage"></p>
      <button id="modalClose">確定</button>
    </div>
  </div>



    <!-- footer -->
    <div id="footer">
      <div class="wrap">
          <div class="firstRow">
              <img src="./footerDeco/upperDeco.png" alt="">
          </div>
          <div class="secondRow">
              <div class="faq">
                  <p class="footerTitle">FAQ</p>
                  <div class="iconBox">
                      <a href="https://www.google.com/" target="_blank"><img src="./icon/question.png"></a>
                      <a href="https://www.google.com/" target="_blank"><img src="./icon/bag.png"></a>
                      <!-- <img src="./icon/house.png"> -->
                      <a href="https://www.google.com/" target="_blank"><img src="./icon/cart.png"></a>
                      <a href="https://www.google.com/" target="_blank"><img src="./icon/chat.png"></a>
                      <a href="https://www.google.com/" target="_blank"><img src="./icon/cash.png"></a>
                  </div>
              </div>
              <div class="contact">
                  <p class="footerTitle">Contact</p>
                  <div class="iconBox">
                      <!-- <img src="./icon/phone.png"> -->
                      <a href="https://www.google.com/" target="_blank"><img src="./icon/line.png"></a>
                      <a href="https://www.google.com/" target="_blank"><img src="./icon/twitter.png"></a>
                      <a href="https://www.google.com/" target="_blank"><img src="./icon/fb.png"></a>
                      <a href="https://www.google.com/" target="_blank"><img src="./icon/ig.png"></a>
                      <a href="https://www.google.com/" target="_blank"><img src="./icon/mail.png"></a>
                  </div>
              </div>
              <div class="middleBox">
                  <div class="logoBox">
                      <img src="./footerDeco/footerLogo.png">
                  </div>
                  <nav class="footerNav">
                      <ul><a href="">樂園設施</a></ul>
                      <ul><a href="">訂票</a></ul>
                      <ul><a href="">訂房</a></ul>
                      <ul><a href="">飲食購物</a></ul>
                      <ul><a href="">交通資訊</a></ul>
                      <ul><a href="">關於我們</a></ul>
                      <ul><a href="">樂園設施</a></ul>
                  </nav>
                  <!-- 手機版footer 1180才會出現 -->
                  <nav class="MobileFooterNav">
                      <div>
                          <ul><a href="">樂園設施</a></ul>
                          <ul><a href="">訂票</a></ul>
                          <ul><a href="">訂房</a></ul>
                      </div>
                      <div>
                          <ul><a href="">飲食購物</a></ul>
                          <ul><a href="">交通資訊</a></ul>
                          <ul><a href="">關於我們</a></ul>
                          <ul><a href="">樂園設施</a></ul>
                      </div>
                  </nav>
              </div>
              <div class="mobileFaq">
                  <p class="footerTitle">FAQ</p>
                  <div class="iconBox">
                      <a href="https://www.google.com/" target="_blank"><img src="./icon/question.png"></a>
                      <a href="https://www.google.com/" target="_blank"><img src="./icon/bag.png"></a>
                      <!-- <img src="./icon/house.png"> -->
                      <a href="https://www.google.com/" target="_blank"><img src="./icon/cart.png"></a>
                      <a href="https://www.google.com/" target="_blank"><img src="./icon/chat.png"></a>
                      <a href="https://www.google.com/" target="_blank"><img src="./icon/cash.png"></a>
                  </div>
              </div>
              <div class="mobileContact">
                  <p class="footerTitle">Contact</p>
                  <div class="iconBox">
                      <!-- <img src="./icon/phone.png"> -->
                      <a href="https://www.google.com/" target="_blank"><img src="./icon/line.png"></a>
                      <a href="https://www.google.com/" target="_blank"><img src="./icon/twitter.png"></a>
                      <a href="https://www.google.com/" target="_blank"><img src="./icon/fb.png"></a>
                      <a href="https://www.google.com/" target="_blank"><img src="./icon/ig.png"></a>
                      <a href="https://www.google.com/" target="_blank"><img src="./icon/mail.png"></a>
                  </div>
              </div>
              <!-- 手機版footer 1180才會出現 -->
              <div class="joinUs">
                  <p class="footerTitle">Join Us</p>
                  <a href="https://www.google.com/">Team Information</a>
                  <a href="https://www.google.com/">Recruitment Information</a>
              </div>
              <div class="goTopBox">
                  <a class="goTop" href="https://www.google.com/">
                      <img class="goTopArrow" src="./icon/topArrowHover.png">
                      <p>BACK TOP</p>
                      <img class="o" src="./footerDeco/circle.png">
                      <svg viewBox="0 0 160 160" version="1.1" xmlns="http://www.w3.org/2000/svg">
                      <circle class="circle effect-3" cx="80" cy="80" r="75" fill="transparent"/>
                  </a>
              </div>
          </div>
          <div class="thirdRow">
              <div class="thirdDeco">
                  <img src="./footerDeco/downDeco.png">
              </div>
              <div class="openTime">
                  <p class="footerTitle">營業時間</p>
                  <p>園區營業時間丨09:00 - 18:00</p>
                  <p>設施開放時間丨09:00 - 17:30</p>
                  <p>營地開放時間丨08:00 - 24:00</p>
              </div>
              <div class="lineBox">
                  <div class="line"></div>
                  <span></span>
              </div>
              <div class="copyright">
                  <p> © 2024 BluePen Team</p>
              </div>
          </div>
      </div>
  </div>

    <!-- 使用jquery前要先引用 -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"></script>

    <!-- FAQscript -->
    <script src="./FAQ.js"></script>



</body>
</html>